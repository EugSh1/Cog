"use strict";(self.webpackChunkcog_http_docs=self.webpackChunkcog_http_docs||[]).push([[911],{6134:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tutorial-basics/middleware","title":"Middleware","description":"Cog supports middleware functions to process requests before they reach route handlers. Middleware","source":"@site/docs/tutorial-basics/middleware.md","sourceDirName":"tutorial-basics","slug":"/tutorial-basics/middleware","permalink":"/Cog/docs/tutorial-basics/middleware","draft":false,"unlisted":false,"editUrl":"https://github.com/EugSh1/Cog/tree/main/docs/docs/tutorial-basics/middleware.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Working with Body and Query Parameters","permalink":"/Cog/docs/tutorial-basics/body-and-query-params"},"next":{"title":"Congratulations!","permalink":"/Cog/docs/tutorial-basics/congratulations"}}');var n=t(4848),o=t(8453);const i={sidebar_position:4},a="Middleware",d={},c=[{value:"How to use middleware",id:"how-to-use-middleware",level:2},{value:"Applying middleware to specific routes",id:"applying-middleware-to-specific-routes",level:2}];function l(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"middleware",children:"Middleware"})}),"\n",(0,n.jsx)(r.p,{children:"Cog supports middleware functions to process requests before they reach route handlers. Middleware\ncan modify request and response objects or end the request early."}),"\n",(0,n.jsx)(r.h2,{id:"how-to-use-middleware",children:"How to use middleware"}),"\n",(0,n.jsxs)(r.p,{children:["Middleware functions receive ",(0,n.jsx)(r.code,{children:"(req, res, next)"})," parameters. Call ",(0,n.jsx)(r.code,{children:"next()"})," to pass control to the\nnext middleware or route handler."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:'app.use("*", (req, _res, next) => {\n    console.log(`${req.method} ${req.url}`);\n    next();\n});\n'})}),"\n",(0,n.jsx)(r.h2,{id:"applying-middleware-to-specific-routes",children:"Applying middleware to specific routes"}),"\n",(0,n.jsx)(r.p,{children:"You can apply middleware only to certain routes:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:'app.use("/admin", (req, res, next) => {\n    if (!req.headers["authorization"]) {\n        return res.send({ error: "Unauthorized" }, 401);\n    }\n\n    next();\n});\n'})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>a});var s=t(6540);const n={},o=s.createContext(n);function i(e){const r=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);